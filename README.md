# CRM –°–∏—Å—Ç–µ–º–∞ –¥–ª—è –ó–∞–≤–æ–¥–∞ –¢—è–≥–∞—á–µ–π üöö

–ü—Ä–æ—Å—Ç–∞—è CRM-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç—è–≥–∞—á–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JavaScript, Node.js, Express –∏ PostgreSQL.

## –§—É–Ω–∫—Ü–∏–∏

- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å 3 —Ç–∏–ø–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (admin, manager, user)
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç—è–≥–∞—á–µ–π (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç—è–≥–∞—á–∞—Ö
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ –≥–æ–¥–∞–º –∏ —Å—Ç–∞—Ç—É—Å–∞–º
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Node.js, Express.js
- **Database**: PostgreSQL
- **Frontend**: HTML, CSS, JavaScript (Vanilla)
- **Port**: localhost:3000

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL

–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞:
https://www.postgresql.org/download/

### 2. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–û—Ç–∫—Ä–æ–π—Ç–µ PostgreSQL (pgAdmin –∏–ª–∏ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
CREATE DATABASE truck_crm;
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–ï—Å–ª–∏ –≤–∞—à–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ PostgreSQL –æ—Ç–ª–∏—á–∞—é—Ç—Å—è, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã:
- `init-db.js` (—Å—Ç—Ä–æ–∫–∏ 3-9)
- `server.js` (—Å—Ç—Ä–æ–∫–∏ 11-17)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- Host: `localhost`
- Port: `5432`
- Database: `truck_crm`
- User: `postgres`
- Password: `postgres`

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd truck-crm
npm install
```

### 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
npm run init-db
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–æ–±–∞–≤–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.

## –ó–∞–ø—É—Å–∫

```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ **http://localhost:3000**

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: **http://localhost:3000/login.html**

## –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

| –õ–æ–≥–∏–Ω   | –ü–∞—Ä–æ–ª—å      | –†–æ–ª—å          |
|---------|-------------|---------------|
| admin   | admin123    | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä |
| manager | manager123  | –ú–µ–Ω–µ–¥–∂–µ—Ä      |
| user    | user123     | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å  |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
truck-crm/
‚îú‚îÄ‚îÄ server.js           # Express —Å–µ—Ä–≤–µ—Ä –∏ API
‚îú‚îÄ‚îÄ init-db.js          # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ package.json        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ public/             # Frontend —Ñ–∞–π–ª—ã
    ‚îú‚îÄ‚îÄ index.html      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
    ‚îú‚îÄ‚îÄ login.html      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
    ‚îú‚îÄ‚îÄ styles.css      # –°—Ç–∏–ª–∏
    ‚îú‚îÄ‚îÄ app.js          # –õ–æ–≥–∏–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    ‚îî‚îÄ‚îÄ login.js        # –õ–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞
```

## API Endpoints

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /api/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

### –¢—è–≥–∞—á–∏
- `GET /api/trucks` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç—è–≥–∞—á–∏
- `GET /api/trucks/:id` - –ü–æ–ª—É—á–∏—Ç—å —Ç—è–≥–∞—á –ø–æ ID
- `POST /api/trucks` - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç—è–≥–∞—á
- `PUT /api/trucks/:id` - –û–±–Ω–æ–≤–∏—Ç—å —Ç—è–≥–∞—á
- `DELETE /api/trucks/:id` - –£–¥–∞–ª–∏—Ç—å —Ç—è–≥–∞—á

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/stats` - –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∏—Å–ø–æ–ª—å–∑—É—è –æ–¥–∏–Ω –∏–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
2. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
   - –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (–≤—Å–µ–≥–æ —Ç—è–≥–∞—á–µ–π, —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞, –≤ –Ω–∞–ª–∏—á–∏–∏)
   - –ì—Ä–∞—Ñ–∏–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
   - –¢–∞–±–ª–∏—Ü—É –≤—Å–µ—Ö —Ç—è–≥–∞—á–µ–π
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —Ç—è–≥–∞—á –Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É "+ –î–æ–±–∞–≤–∏—Ç—å —Ç—è–≥–∞—á"
4. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏–ª–∏ —É–¥–∞–ª—è–π—Ç–µ —Ç—è–≥–∞—á–∏ –∏—Å–ø–æ–ª—å–∑—É—è –∫–Ω–æ–ø–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `users`
- id (SERIAL PRIMARY KEY)
- username (VARCHAR)
- password (VARCHAR)
- role (VARCHAR)

### –¢–∞–±–ª–∏—Ü–∞ `trucks`
- id (SERIAL PRIMARY KEY)
- model (VARCHAR) - –ú–æ–¥–µ–ª—å —Ç—è–≥–∞—á–∞
- year (INTEGER) - –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞
- price (DECIMAL) - –¶–µ–Ω–∞
- status (VARCHAR) - –°—Ç–∞—Ç—É—Å (–í –Ω–∞–ª–∏—á–∏–∏, –ó–∞–∫–∞–∑, –ü—Ä–æ–¥–∞–Ω, –†–µ–º–æ–Ω—Ç)
- engine_power (INTEGER) - –ú–æ—â–Ω–æ—Å—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—è
- mileage (INTEGER) - –ü—Ä–æ–±–µ–≥
- created_at (TIMESTAMP) - –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- Frontend: —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `public/`
- Backend: —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `server.js`
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `init-db.js`

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm start`

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏, –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ bcrypt)
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (–≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–∞–≤–∞)
- –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Canvas API (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Chart.js –¥–ª—è –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤)

## –õ–∏—Ü–µ–Ω–∑–∏—è

ISC
