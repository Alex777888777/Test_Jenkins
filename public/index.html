<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRM –ó–∞–≤–æ–¥ –¢—è–≥–∞—á–µ–π</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>üöö CRM –ó–∞–≤–æ–¥ –¢—è–≥–∞—á–µ–π</h1>
      <div class="user-info">
        <span id="userRole"></span>
        <button id="logoutBtn" class="btn btn-secondary">–í—ã—Ö–æ–¥</button>
      </div>
    </header>
    
    <main>
      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <section class="stats-section">
        <div class="stat-card">
          <h3>–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</h3>
          <p id="totalOrders" class="stat-value">0</p>
        </div>
        <div class="stat-card">
          <h3>–ö–ª–∏–µ–Ω—Ç–æ–≤</h3>
          <p id="totalClients" class="stat-value">0</p>
        </div>
        <div class="stat-card">
          <h3>–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</h3>
          <p id="avgPrice" class="stat-value">$0</p>
        </div>
      </section>
      
      <!-- –ì—Ä–∞—Ñ–∏–∫–∏ -->
      <section class="charts-section">
        <div class="chart-container">
          <h3>–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤</h3>
          <canvas id="ordersChart"></canvas>
        </div>
        <div class="chart-container">
          <h3>–ó–∞–ø—á–∞—Å—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
          <canvas id="partsChart"></canvas>
        </div>
      </section>
      
      <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞) -->
      <section id="managerSection" style="display:none;">
        <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
        <button id="addClientBtn" class="btn btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</button>
        <button id="addOrderBtn" class="btn btn-primary">+ –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑</button>
        <button id="addEmployeeBtn" class="btn btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
        
        <h3 style="margin-top: 30px;">–¢—è–≥–∞—á–∏</h3>
        <table id="trucksTable">
          <thead>
            <tr>
              <th>ID</th>
              <th>–ú–æ–¥–µ–ª—å</th>
              <th>–ì–æ–¥</th>
              <th>–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞</th>
              <th>–ú–æ—â–Ω–æ—Å—Ç—å (–ª.—Å.)</th>
              <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
            </tr>
          </thead>
          <tbody id="trucksTableBody"></tbody>
        </table>
        
        <h3 style="margin-top: 30px;">–ö–ª–∏–µ–Ω—Ç—ã</h3>
        <table id="clientsTable">
          <thead>
            <tr>
              <th>–§–ò–û</th>
              <th>–ö–æ–º–ø–∞–Ω–∏—è</th>
              <th>Email</th>
              <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
            </tr>
          </thead>
          <tbody id="clientsTableBody"></tbody>
        </table>
      </section>
      
      <!-- –ó–∞–∫–∞–∑—ã -->
      <section class="orders-section">
        <h2>–ó–∞–∫–∞–∑—ã</h2>
        <div id="ordersContainer"></div>
      </section>
      
      <!-- –ó–∞–ø—á–∞—Å—Ç–∏ (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏) -->
      <section id="partsSection" style="display:none;">
        <h2>–ö–∞—Ç–∞–ª–æ–≥ –∑–∞–ø—á–∞—Å—Ç–µ–π</h2>
        <table id="partsTable">
          <thead>
            <tr>
              <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
              <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
              <th>–¶–µ–Ω–∞</th>
              <th>–ù–∞ —Å–∫–ª–∞–¥–µ</th>
            </tr>
          </thead>
          <tbody id="partsTableBody"></tbody>
        </table>
      </section>
    </main>
  </div>
  
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ -->
  <div id="clientModal" class="modal">
    <div class="modal-content">
      <span class="close" data-modal="clientModal">&times;</span>
      <h2>–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</h2>
      <form id="clientForm">
        <div class="form-group">
          <label>–§–ò–û</label>
          <input type="text" id="clientName" required>
        </div>
        <div class="form-group">
          <label>–ö–æ–º–ø–∞–Ω–∏—è</label>
          <input type="text" id="clientCompany">
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="clientEmail">
        </div>
        <div class="form-group">
          <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
          <input type="text" id="clientPhone">
        </div>
        <div class="form-group">
          <label>–ê–¥—Ä–µ—Å</label>
          <textarea id="clientAddress"></textarea>
        </div>
        <h3 style="margin-top: 20px;">–î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞</h3>
        <div class="form-group">
          <label>–õ–æ–≥–∏–Ω</label>
          <input type="text" id="clientLogin" required>
        </div>
        <div class="form-group">
          <label>–ü–∞—Ä–æ–ª—å</label>
          <input type="password" id="clientPassword" required>
        </div>
        <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</button>
      </form>
    </div>
  </div>
  
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ -->
  <div id="employeeModal" class="modal">
    <div class="modal-content">
      <span class="close" data-modal="employeeModal">&times;</span>
      <h2>–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h2>
      <form id="employeeForm">
        <div class="form-group">
          <label>–§–ò–û</label>
          <input type="text" id="employeeName" required>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="employeeEmail">
        </div>
        <div class="form-group">
          <label>–†–æ–ª—å</label>
          <select id="employeeRole" required>
            <option value="manager">–ú–µ–Ω–µ–¥–∂–µ—Ä</option>
            <option value="worker">–†–∞–±–æ—Ç–Ω–∏–∫</option>
          </select>
        </div>
        <h3 style="margin-top: 20px;">–î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞</h3>
        <div class="form-group">
          <label>–õ–æ–≥–∏–Ω</label>
          <input type="text" id="employeeLogin" required>
        </div>
        <div class="form-group">
          <label>–ü–∞—Ä–æ–ª—å</label>
          <input type="password" id="employeePassword" required>
        </div>
        <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
      </form>
    </div>
  </div>
  
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∑–∞–∫–∞–∑–∞ -->
  <div id="orderModal" class="modal">
    <div class="modal-content">
      <span class="close" data-modal="orderModal">&times;</span>
      <h2 id="orderModalTitle">–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑</h2>
      <form id="orderForm">
        <div class="form-group">
          <label>–ö–ª–∏–µ–Ω—Ç</label>
          <select id="orderClient" required></select>
        </div>
        <div class="form-group">
          <label>–¢—è–≥–∞—á</label>
          <select id="orderTruck" required></select>
        </div>
        <div class="form-group">
          <label>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</label>
          <select id="orderConfig" required></select>
        </div>
        <div class="form-group">
          <label>–î–µ–¥–ª–∞–π–Ω</label>
          <input type="date" id="orderDeadline">
        </div>
        <div class="form-group">
          <label>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
          <textarea id="orderNotes"></textarea>
        </div>
        <div id="orderPartsSection">
          <h4>–ó–∞–ø—á–∞—Å—Ç–∏</h4>
          <div id="orderPartsList"></div>
          <button type="button" id="addPartBtn" class="btn btn-secondary">+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø—á–∞—Å—Ç—å</button>
        </div>
        <div class="form-group">
          <label>–ò—Ç–æ–≥–æ:</label>
          <h3 id="orderTotal">$0</h3>
        </div>
        <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑</button>
      </form>
    </div>
  </div>
  
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ -->
  <div id="orderDetailModal" class="modal">
    <div class="modal-content large">
      <span class="close" data-modal="orderDetailModal">&times;</span>
      <h2>–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ #<span id="orderNumber"></span></h2>
      <div id="orderDetails"></div>
      
      <div id="editOrderSection" style="display:none; margin: 20px 0;">
        <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
        <form id="editOrderForm">
          <input type="hidden" id="editOrderId">
          <div class="form-group">
            <label>–°—Ç–∞—Ç—É—Å</label>
            <select id="editOrderStatus" required>
              <option value="–ù–æ–≤—ã–π">–ù–æ–≤—ã–π</option>
              <option value="–í –ø—Ä–æ—Ü–µ—Å—Å–µ">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
              <option value="–í—ã–ø–æ–ª–Ω–µ–Ω">–í—ã–ø–æ–ª–Ω–µ–Ω</option>
              <option value="–û—Ç–º–µ–Ω–µ–Ω">–û—Ç–º–µ–Ω–µ–Ω</option>
            </select>
          </div>
          <div class="form-group">
            <label>–î–µ–¥–ª–∞–π–Ω</label>
            <input type="date" id="editOrderDeadline">
          </div>
          <div class="form-group">
            <label>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
            <textarea id="editOrderNotes"></textarea>
          </div>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </form>
      </div>
      
      <h3>–≠—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</h3>
      <div id="orderStages"></div>
      
      <h3>–ó–∞–ø—á–∞—Å—Ç–∏</h3>
      <div id="orderPartDetails"></div>
    </div>
  </div>
  
  <script src="app.js"></script>
</body>
</html>
